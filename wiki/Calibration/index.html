<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Arm Calibration - sdk-wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Arm_Calibration","wgTitle":"Arm Calibration","wgCurRevisionId":3200,"wgRevisionId":3200,"wgArticleId":586,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Arm_Calibration","wgRelevantArticleId":586,"wgRequestId":"8dc560cd5f02d15e77d150f2","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["autoconfirmed"],"wgRestrictionMove":["autoconfirmed"],"wgRedirectedFrom":"Calibration","wgInternalRedirectTargetUrl":"/wiki/Arm_Calibration"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","ext.embedVideo.styles":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready"});mw.loader.implement("user.tokens@0ppuq4y",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.action.view.redirect","ext.embedVideo","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.cavendishmw-rethinkrobotics"]);});</script>
<link rel="stylesheet" href="/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=ext.embedVideo.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<script async="" src="/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<meta name="generator" content="MediaWiki 1.31.0"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/wiki/a/opensearch_desc.php" title="sdk-wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://sdk.rethinkrobotics.com/wiki/a/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="sdk-wiki Atom feed" href="/wiki/a/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link rel="canonical" href="http://sdk.rethinkrobotics.com/wiki/Arm_Calibration"/>
<!--[if lt IE 9]><script src="/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Arm_Calibration rootpage-Arm_Calibration skin-cavendishmw-rethinkrobotics action-view"><div id="container"><!-- start fragment header -->
    <!-- <div id="mozilla-org"><a href="#">Mozilla Skin</a></div> -->
    <div id="header" class="noprint">
        <a name="top" id="contentTop"></a>

        <!-- Logo + site name -->
        <h1>
            <a href="/wiki/Main_Page" style="text-indent: 2em; width: 194px; height: 67px; background: transparent url(/wiki/a/skins/cavendishmw-rethinkrobotics/styles/images/header_logo.png) no-repeat scroll 5px -5px;" title="Visit the main page">&nbsp;</a>        </h1>

	<div id="rr_ActionWrap">
	<!-- Account action links -->
	<div id="accountActions"><a href="/wiki/a/index.php?title=Special:UserLogin&returnto=Arm+Calibration">Log in</a></div>
        <!-- Search box -->
            <form action="/wiki/a/index.php" id="searchform">
        <label for="searchInput">Search</label>
        <input type='hidden' name="title" value="Special:Search"/>
        <input type="search" name="search" placeholder="Search sdk-wiki" title="Search sdk-wiki [f]" accesskey="f" id="searchInput"/>
        &#160;
        <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>    </form>
	</div>
    </div> <!-- End header div -->
<!-- end fragment header --><div id="mBody"><!-- start fragment mainContent -->
<!-- start fragment firstHeader -->
<div id="firstHeadingDiv" class="firstHeading">
    <h1 lang="en"><span dir="auto">Arm Calibration</span></h1>


        <!-- Content action buttons -->
        <ul><li><a href="#">More</a><ul><li id="ca-viewsource"><a href="/wiki/a/index.php?title=Arm_Calibration&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history"><a href="/wiki/a/index.php?title=Arm_Calibration&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li></ul></li><li id="ca-nstab-main" class="selected"><a href="/wiki/Arm_Calibration" title="View the content page [c]" accesskey="c">Page</a></li></ul>
</div><!-- end fragment firstHeader --><!-- start fragment sidebar -->        <div id="side" class="noprint" > <!-- cavendishmw: s/column-one/side/ -->
            <ul id="nav">
                      <li><span>Navigation</span>
            <ul>
                <li id="n-Getting-Started"><a href="/wiki/Getting_Started">Getting Started</a></li>
                <li id="n-Learning"><a href="/wiki/Learning">Learning</a></li>
                <li id="n-Community"><a href="/wiki/Community">Community</a></li>
                <li id="n-Support"><a href="/wiki/Support">Support</a></li>
            </ul>
        </li>
      <li><span>Links</span>
            <ul class="collapsible-collapsed">
                <li id="n-Forum"><a href="https://groups.google.com/a/rethinkrobotics.com/forum/#!forum/brr-users" rel="nofollow">Forum</a></li>
                <li id="n-Source"><a href="https://github.com/RethinkRobotics" rel="nofollow">Source</a></li>
                <li id="n-Source-API"><a href="http://api.rethinkrobotics.com/" rel="nofollow">Source API</a></li>
            </ul>
        </li>
      <li><span>Tools</span>
            <ul class="collapsible-collapsed">
                <li id="n-All-Pages"><a href="/wiki/Special:AllPages">All Pages</a></li>
                <li id="n-Upload-File"><a href="/wiki/Special:Upload">Upload File</a></li>
                <li id="n-What-Links-Here.3F"><a href="/wiki/Special:WhatLinksHere">What Links Here?</a></li>
            </ul>
        </li>
            </ul> <!-- /nav -->
        </div> <!-- /side -->
<!-- end fragment sidebar -->
<div id="mainContent"> <!-- cavendishmw: s/column-content/mainContent/ -->
    
  <div id="bodyContent" class="mw-body">
    <div id="siteSub">From sdk-wiki</div>
    <div id="contentSub"><span class="mw-redirectedfrom">(Redirected from <a href="/wiki/a/index.php?title=Calibration&amp;redirect=no" class="mw-redirect" title="Calibration">Calibration</a>)</span></div>
    <div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
    
  <!-- start content -->
  <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Robot_Arm_Calibration"><span class="tocnumber">1</span> <span class="toctext">Robot Arm Calibration</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Calibrate_-_calibrate_arm.py"><span class="tocnumber">1.1</span> <span class="toctext">Calibrate - calibrate_arm.py</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Tare_-_tare.py"><span class="tocnumber">1.2</span> <span class="toctext">Tare - tare.py</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Videos"><span class="tocnumber">1.3</span> <span class="toctext">Videos</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Part_1:_About_Calibration_and_Tare"><span class="tocnumber">1.3.1</span> <span class="toctext">Part 1: About Calibration and Tare</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Part_2:_How_to_Run_Arm_Calibration"><span class="tocnumber">1.3.2</span> <span class="toctext">Part 2: How to Run Arm Calibration</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Robot_Arm_Calibration">Robot Arm Calibration</span></h1>
<p>We have two arm calibration routines that we recommend you run regularly (roughly once a month) to keep your robot's arms responding reliably.
</p><p>These are calibrate_arm.py and tare.py, and both are located in the baxter_tools repo.
</p><p>Before running either, you must remove any grippers from the arms, level the robot using the feet on its base, and make sure that there are no obstructions within reach of its arms, as they will move through the most of their accessible range throughout the procedure, and collisions will result in a failed calibration.
</p><p><b>Note:</b> The recommended order of operations in calibration is:
</p>
<ol><li>Run the calibrate_arm routine on both arms</li>
<li>Reboot</li>
<li>Run the tare.py routine on both arms</li>
<li>Reboot</li></ol>
<p>On the final boot, the robot's arms will be fully calibrated.
</p><p><b>Note:</b> The Demo Mode UI will run through this entire routine for you by selecting Tare/Calibrate from the Tools menu.
</p>
<h2><span class="mw-headline" id="Calibrate_-_calibrate_arm.py">Calibrate - calibrate_arm.py</span></h2>
<p>First is our calibrate_arms.py script.
</p><p>To run this, simply type in a <a href="/wiki/RSDK_Shell" title="RSDK Shell"> properly initialized Baxter</a> shell:
</p>
<pre>$: rosrun baxter_tools calibrate_arm.py -l left
</pre>
<p>or
</p>
<pre>$: rosrun baxter_tools calibrate_arm.py -l right
</pre>
<pre>usage: calibrate_arm.py [-h] -l {left,right}

optional arguments:
  -h, --help            show this help message and exit

required arguments:
  -l {left,right}, --limb {left,right}
                        Calibrate the specified arm
</pre>
<p><b>What is this doing?</b>
</p><p>This is where we calibrate Baxter's joint torque sensors.  Because we know the mass and center off mass for each rigid segment of Baxter's arm, we know what the torque due to gravity should be on each joint in any given arm pose.  By sampling the torque sensor readings at a set of known poses, we can find the correct calibration values for the torque sensors.  This calibration permits an arbitrary offset in the torque reading for s1, because of the additional torque due to the support spring on that joint.  We also avoid calibration poses susceptible to the "crosstalk" phenomenon described in the Spring calibration secion.
</p>
<h2><span class="mw-headline" id="Tare_-_tare.py">Tare - tare.py</span></h2>
<p>Next, after running calibrate_arm on both arms and rebooting, you should run the tare script.
</p><p>To run this, simply type in a <a href="/wiki/RSDK_Shell" title="RSDK Shell"> properly initialized Baxter</a> shell:
</p>
<pre>$: rosrun baxter_tools tare.py -l left
</pre>
<p>or
</p>
<pre>$: rosrun baxter_tools tare.py -l right
</pre>
<pre>usage: tare.py [-h] -l {left,right}

optional arguments:
  -h, --help            show this help message and exit

required arguments:
  -l {left,right}, --limb {left,right}
                        Tare the specified limb
</pre>
<p><b>What is this doing?</b>
</p>
<ul><li>"Crosstalk" Calibration
<dl><dd>Because of the way Baxter's large bend joints are constructed, their torque readings can be distorted by the presence off-axis torques about a certain axis.  We refer to this as "crosstalk".  In the case of the s1 joint, this effect is large enough that it is beneficial to actively compensate for it.  We do this by modelling the torque reading distortion as a function of off-axis torque, and then subtracting the predicted "crosstalk" from s1's torque reading during operation.  We estimate the s1 off-axis torque to be equal the e0 torque.  The first part of the "tare" calibration is collection of data to calibrate for s1 "crosstalk".  That calibration is necessary for the next step (spring calibration).</dd></dl></li>
<li>Spring Calibration
<dl><dd>Because Baxter's s1 joint must support relatively high gravitational loads, a pair of springs provides an anti-gravity torque to assist the motor.  Because of the way these springs are manufactured, the torque supplied is a function not only of the s1 joint position but also of the recent history of s1 joint position, and that function can vary from spring to spring.  In order to provide good position and torque control as well as good extrinsic torque sensing, the torque contribution from the s1 springs must be estimated.  Because the springs vary, a calibration process is used to fit the spring's torque contribution as a function of the joint's recent position history.  The spring calibration movements are chosen so that only the joint under test (s1) moves and so that no part of the arm will go below a nominal "table height".</dd></dl></li>
<li>Torque Sensor Tare
<dl><dd>The joint torque sensors can change over time so that torque readings are uniformly offset from the correct values.  To address this, at the end of the "tare" process, the arm is moved to a pose with known torques due to gravity and torque readings are taken.  The torque sensor calibrations are adjusted to compensate for any offset.  The s1 joint is excluded from this correction.</dd></dl></li></ul>
<h2><span class="mw-headline" id="Videos">Videos</span></h2>
<h3><span class="mw-headline" id="Part_1:_About_Calibration_and_Tare">Part 1: About Calibration and Tare</span></h3>
<div class="embedvideo autoResize" style=""><div class="embedvideowrap" style="width: 500px;"><iframe src="//www.youtube.com/embed/Vd04gb6SB-w?" width="500" height="281" frameborder="0" allowfullscreen="true"></iframe></div></div>
<h3><span class="mw-headline" id="Part_2:_How_to_Run_Arm_Calibration">Part 2: How to Run Arm Calibration</span></h3>
<div class="embedvideo autoResize" style=""><div class="embedvideowrap" style="width: 500px;"><iframe src="//www.youtube.com/embed/sO4urgKwxEA?" width="500" height="281" frameborder="0" allowfullscreen="true"></iframe></div></div>

<!-- 
NewPP limit report
Cached time: 20221005024133
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.006 seconds
Real time usage: 0.006 seconds
Preprocessor visited node count: 48/1000000
Preprocessor generated node count: 124/1000000
Post‐expand include size: 52/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 939/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key wikisdk:pcache:idhash:586-0!canonical and timestamp 20221005024133 and revision id 3200
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://sdk.rethinkrobotics.com/wiki/a/index.php?title=Arm_Calibration&amp;oldid=3200">http://sdk.rethinkrobotics.com/wiki/a/index.php?title=Arm_Calibration&amp;oldid=3200</a>"</div>
  <div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>  <!-- end content -->
  
    <div class="visualClear"></div>
</div>
</div> <!-- /mainContent -->
<!-- end fragment mainContent --></div> <!-- /mBody --><div class="visualClear"></div><!-- start fragment footer -->    <div id="footer" role="contentinfo">
        <div id="f-poweredbyico">
                <a href="//www.mediawiki.org/"><img src="/wiki/a/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/wiki/a/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /wiki/a/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
            </div>
        <ul id="f-list">
                <li id="copywrite_notice">&copy; 2015 Rethink Robotics. All rights reserved.</li>
                <li id="special_pages"><a href="/wiki/Special:SpecialPages" title="Special:SpecialPages">SpecialPages</a></li>
                <li id="privacy"><a href="/wiki/Sdk-wiki:Privacy_policy" title="Sdk-wiki:Privacy policy">Privacy policy</a></li>
                <li id="about"><a href="/wiki/Sdk-wiki:About" title="Sdk-wiki:About">About sdk-wiki</a></li>
                <li id="disclaimer"><a href="/wiki/Sdk-wiki:General_disclaimer" title="Sdk-wiki:General disclaimer">Disclaimers</a></li>
            </ul>
    </div><!-- end fragment footer --></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.006","walltime":"0.006","ppvisitednodes":{"value":48,"limit":1000000},"ppgeneratednodes":{"value":124,"limit":1000000},"postexpandincludesize":{"value":52,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":939,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20221005024133","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":24});});</script></body></html>