<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Time and NTP - sdk-wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Time_and_NTP","wgTitle":"Time and NTP","wgCurRevisionId":3363,"wgRevisionId":3363,"wgArticleId":332,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Time_and_NTP","wgRelevantArticleId":332,"wgRequestId":"0ad15d6b716b58d8a20dcb44","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["autoconfirmed"],"wgRestrictionMove":["autoconfirmed"]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready"});mw.loader.implement("user.tokens@0ppuq4y",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.cavendishmw-rethinkrobotics"]);});</script>
<link rel="stylesheet" href="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<script async="" src="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<meta name="generator" content="MediaWiki 1.31.0"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/baxter-sdk/wiki/a/opensearch_desc.php" title="sdk-wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://sdk.rethinkrobotics.com/baxter-sdk/wiki/a/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="sdk-wiki Atom feed" href="/baxter-sdk/wiki/a/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Time_and_NTP rootpage-Time_and_NTP skin-cavendishmw-rethinkrobotics action-view"><div id="container"><!-- start fragment header -->
    <!-- <div id="mozilla-org"><a href="#">Mozilla Skin</a></div> -->
    <div id="header" class="noprint">
        <a name="top" id="contentTop"></a>

        <!-- Logo + site name -->
        <h1>
            <a href="/baxter-sdk/wiki/Main_Page" style="text-indent: 2em; width: 194px; height: 67px; background: transparent url(/baxter-sdk/wiki/a/skins/cavendishmw-rethinkrobotics/styles/images/header_logo.png) no-repeat scroll 5px -5px;" title="Visit the main page">&nbsp;</a>        </h1>

	<div id="rr_ActionWrap">
	<!-- Account action links -->
	<div id="accountActions"><a href="/baxter-sdk/wiki/a/index.php?title=Special:UserLogin&returnto=Time+and+NTP">Log in</a></div>
        <!-- Search box -->
            <form action="/baxter-sdk/wiki/a/index.php" id="searchform">
        <label for="searchInput">Search</label>
        <input type='hidden' name="title" value="Special:Search"/>
        <input type="search" name="search" placeholder="Search sdk-wiki" title="Search sdk-wiki [f]" accesskey="f" id="searchInput"/>
        &#160;
        <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>    </form>
	</div>
    </div> <!-- End header div -->
<!-- end fragment header --><div id="mBody"><!-- start fragment mainContent -->
<!-- start fragment firstHeader -->
<div id="firstHeadingDiv" class="firstHeading">
    <h1 lang="en"><span dir="auto">Time and NTP</span></h1>


        <!-- Content action buttons -->
        <ul><li><a href="#">More</a><ul><li id="ca-viewsource"><a href="/baxter-sdk/wiki/a/index.php?title=Time_and_NTP&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history"><a href="/baxter-sdk/wiki/a/index.php?title=Time_and_NTP&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li></ul></li><li id="ca-nstab-main" class="selected"><a href="/baxter-sdk/wiki/Time_and_NTP" title="View the content page [c]" accesskey="c">Page</a></li></ul>
</div><!-- end fragment firstHeader --><!-- start fragment sidebar -->        <div id="side" class="noprint" > <!-- cavendishmw: s/column-one/side/ -->
            <ul id="nav">
                      <li><span>Navigation</span>
            <ul>
                <li id="n-Getting-Started"><a href="/baxter-sdk/wiki/Getting_Started">Getting Started</a></li>
                <li id="n-Learning"><a href="/baxter-sdk/wiki/Learning">Learning</a></li>
                <li id="n-Community"><a href="/baxter-sdk/wiki/Community">Community</a></li>
                <li id="n-Support"><a href="/baxter-sdk/wiki/Support">Support</a></li>
            </ul>
        </li>
      <li><span>Links</span>
            <ul class="collapsible-collapsed">
                <li id="n-Forum"><a href="https://groups.google.com/a/rethinkrobotics.com/forum/#!forum/brr-users" rel="nofollow">Forum</a></li>
                <li id="n-Source"><a href="https://github.com/RethinkRobotics" rel="nofollow">Source</a></li>
                <li id="n-Source-API"><a href="http://api.rethinkrobotics.com/" rel="nofollow">Source API</a></li>
            </ul>
        </li>
      <li><span>Tools</span>
            <ul class="collapsible-collapsed">
                <li id="n-All-Pages"><a href="/baxter-sdk/wiki/Special:AllPages">All Pages</a></li>
                <li id="n-Upload-File"><a href="/baxter-sdk/wiki/Special:Upload">Upload File</a></li>
                <li id="n-What-Links-Here.3F"><a href="/baxter-sdk/wiki/Special:WhatLinksHere">What Links Here?</a></li>
            </ul>
        </li>
            </ul> <!-- /nav -->
        </div> <!-- /side -->
<!-- end fragment sidebar -->
<div id="mainContent"> <!-- cavendishmw: s/column-content/mainContent/ -->
    
  <div id="bodyContent" class="mw-body">
    <div id="siteSub">From sdk-wiki</div>
    <div id="contentSub"></div>
    <div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
    
  <!-- start content -->
  <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Robot_Time_and_NTP"><span class="tocnumber">1</span> <span class="toctext">Robot Time and NTP</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Introduction"><span class="tocnumber">1.1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Overview"><span class="tocnumber">1.2</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#NTP_on_Baxter"><span class="tocnumber">1.2.1</span> <span class="toctext">NTP on Baxter</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Timezone"><span class="tocnumber">1.2.2</span> <span class="toctext">Timezone</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="#How_to_Use_NTP"><span class="tocnumber">1.3</span> <span class="toctext">How to Use NTP</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#How_to_Check_Robot_Time"><span class="tocnumber">1.3.1</span> <span class="toctext">How to Check Robot Time</span></a>
<ul>
<li class="toclevel-4 tocsection-8"><a href="#Compare_Reference_Time"><span class="tocnumber">1.3.1.1</span> <span class="toctext">Compare Reference Time</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-9"><a href="#How_to_Fix_Robot_Time"><span class="tocnumber">1.3.2</span> <span class="toctext">How to Fix Robot Time</span></a>
<ul>
<li class="toclevel-4 tocsection-10"><a href="#Default_Operation"><span class="tocnumber">1.3.2.1</span> <span class="toctext">Default Operation</span></a></li>
<li class="toclevel-4 tocsection-11"><a href="#Setting_the_Time_on_Boot"><span class="tocnumber">1.3.2.2</span> <span class="toctext">Setting the Time on Boot</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Configuration"><span class="tocnumber">1.4</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#DHCP"><span class="tocnumber">1.4.1</span> <span class="toctext">DHCP</span></a>
<ul>
<li class="toclevel-4 tocsection-14"><a href="#Running_Locally_with_DHCP"><span class="tocnumber">1.4.1.1</span> <span class="toctext">Running Locally with DHCP</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-15"><a href="#ntpdc_Tool"><span class="tocnumber">1.4.2</span> <span class="toctext">ntpdc Tool</span></a>
<ul>
<li class="toclevel-4 tocsection-16"><a href="#Configuring_the_NTP_Server_at_Run-Time"><span class="tocnumber">1.4.2.1</span> <span class="toctext">Configuring the NTP Server at Run-Time</span></a>
<ul>
<li class="toclevel-5 tocsection-17"><a href="#List_Status_with_ntpdc"><span class="tocnumber">1.4.2.1.1</span> <span class="toctext">List Status with ntpdc</span></a></li>
<li class="toclevel-5 tocsection-18"><a href="#Unconfigure_Servers"><span class="tocnumber">1.4.2.1.2</span> <span class="toctext">Unconfigure Servers</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-19"><a href="#Resources"><span class="tocnumber">1.5</span> <span class="toctext">Resources</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Troubleshooting"><span class="tocnumber">1.6</span> <span class="toctext">Troubleshooting</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Robot_Time_and_NTP">Robot Time and NTP</span></h1>
<p>The Network Time Protocol (<a rel="nofollow" class="external text" href="http://networktimefoundation.org/projects/ntp-project/">NTP</a>) is run on the robot to keep the robot's system time accurate.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>By default, your robot will automatically use NTP to synchronize its system clock when connected to the internet.  Large offsets are corrected at boot, while small inaccuracies are handled gradually during run-time.
</p><p>To correct your robot's time, reboot your robot while having it connected to the internet.
</p><p>You can check the time on the robot with the <code>ntpdate</code> tool:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    $ ntpdate -q &lt;robot_address&gt;
    server <span class="m">192</span>.168.0.1, stratum <span class="m">2</span>, offset -0.000680, delay <span class="m">0</span>.03934
    <span class="m">5</span> Oct <span class="m">18</span>:32:31 ntpdate<span class="o">[</span><span class="m">7238</span><span class="o">]</span>: adjust <span class="nb">time</span> server <span class="m">192</span>.168.52.242 offset -0.000680 sec
</pre></div>
<p>This will tell you the difference between your computer's time (the time on the left) and the robot's system clock.
</p><p>If you cannot connect your Baxter to the internet or need to set a custom configuration, see the <a href="/baxter-sdk/wiki/Time_and_NTP#configuration" title="Time and NTP">Configuration</a> Section.
</p>
<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p>Baxter's on-board time is kept accurate using the standard <a rel="nofollow" class="external text" href="http://networktimefoundation.org/projects/ntp-project/">NTP</a> time service.  The default configuration will set the robot's time once during startup each time the robot boots, and then will maintain a running NTP server that will gradually slew the time to keep the robot's system time in sync.  The default time servers are received from pool.ntp.org, but these can be configured by either providing the <code>ntp-servers</code> option from your DHCP host, or using the <a rel="nofollow" class="external text" href="http://www.eecis.udel.edu/~mills/ntp/html/ntpdc.html">ntpdc</a> tool to configure the running NTP server.
</p><p><i>Note: NTP was first enabled in version 0.6.2 of the RSDK. Make sure you are running rsdk-0.6.2 or above to use these services.</i>
</p>
<h3><span class="mw-headline" id="NTP_on_Baxter">NTP on Baxter</span></h3>
<p>NTP runs automatically on Baxter in two parts:
</p>
<ol><li>The <code>ntp-client</code> script runs on boot to <b>correct large time offsets.</b></li>
<li>The <code>ntpd</code> service then runs an NTP timeserver to gradually keep the time accurate for <b>small time differences</b>.</li></ol>
<p>The final important piece is the <code>ntp.conf</code> configuration used for both these services.  This determines which reference time servers the robot should use to synchronize against.
</p><p>Default settings should work for most people to keep Baxter's time accurate.  Users can query the status of the robot's NTP timeserver using various NTP tools including: ntpdate, ntpq, and ntpdc.
</p><p>For the advanced users, the above NTP services can be <a href="/baxter-sdk/wiki/Time_and_NTP#configuration" title="Time and NTP">configured</a> using DHCP or the run-time ntpdc client.
</p>
<h3><span class="mw-headline" id="Timezone">Timezone</span></h3>
<p>NTP will sync your robot's time to "real-world" time, but you still need to set the robot's timezone.  The robot's timezone can be set using the <a href="/baxter-sdk/wiki/Field_Service_Menu_(FSM)" title="Field Service Menu (FSM)">Field-Service-Menu</a>.  This does not affect the time kept by NTP as that will be based on UTC, however it will affect the offset used for the displayed system time.
</p>
<h2><span class="mw-headline" id="How_to_Use_NTP">How to Use NTP</span></h2>
<h3><span class="mw-headline" id="How_to_Check_Robot_Time">How to Check Robot Time</span></h3>
<p>You can use the <a rel="nofollow" class="external text" href="http://www.eecis.udel.edu/~mills/ntp/html/ntpdate.html">ntpdate</a> tool for a simple reference check against the robot, or use the <a href="/baxter-sdk/wiki/a/index.php?title=Ntpq.html_ntpq&amp;action=edit&amp;redlink=1" class="new" title="Ntpq.html ntpq (page does not exist)">ntpq.html ntpq</a>) tool to check the status of the NTP timeserver and Baxter's synchronization, among other details.
</p><p>Make sure you have installed the ntp tools:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    $ sudo apt-get install ntp
</pre></div>
<p>Query the status of the NTP server on the robot:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    $ ntpq -p &lt;robot_address&gt;  
         remote           refid      st t when poll reach   delay   offset  <span class="nv">jitter</span>
    <span class="o">==============================================================================</span>
*server2.shellva <span class="m">128</span>.59.39.48     <span class="m">2</span> u <span class="m">1712</span> <span class="m">1024</span>  <span class="m">376</span>   <span class="m">10</span>.225    <span class="m">1</span>.013   <span class="m">3</span>.852
*173.44.32.10    <span class="m">96</span>.237.191.14    <span class="m">2</span> u   <span class="m">42</span> <span class="m">1024</span>  <span class="m">217</span>   <span class="m">52</span>.744   -7.044  <span class="m">10</span>.286
     kona.skafari.co <span class="m">209</span>.51.161.238   <span class="m">2</span> u <span class="m">1694</span> <span class="m">1024</span>  <span class="m">376</span>    <span class="m">8</span>.558   -1.378  <span class="m">16</span>.680
*sisdb01.muskego <span class="m">50</span>.18.44.198     <span class="m">3</span> u  <span class="m">358</span> <span class="m">1024</span>  <span class="m">377</span>   <span class="m">35</span>.632   -3.661   <span class="m">7</span>.991
</pre></div>
<p>This lists the known synchronization references (and their "refid" references) of the robot’s ntp server.  These are the servers and peer timeservers that the robot’s NTP daemon/server is trying to sync against.
The first character in a row indicates the current Selection status (‘*’ means active). See ‘Select Field’: <a rel="nofollow" class="external free" href="http://www.eecis.udel.edu/~mills/ntp/html/decode.html#peer">http://www.eecis.udel.edu/~mills/ntp/html/decode.html#peer</a>
</p>
<h5><span class="mw-headline" id="Compare_Reference_Time">Compare Reference Time</span></h5>
<p>You can compare the robot's time to your system's time using the <code>-q</code> ntpdate command:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    $ ntpdate -q &lt;robot_ip&gt;
</pre></div>
<h3><span class="mw-headline" id="How_to_Fix_Robot_Time">How to Fix Robot Time</span></h3>
<p>Robot time is fixed by connecting the robot to timeservers.  This must happen at boot for large offsets.  Smaller inaccuracies (~17min) are handled regularly during run-time.
</p>
<h4><span class="mw-headline" id="Default_Operation">Default Operation</span></h4>
<p>By default the NTP services are configured to get four servers from the <a rel="nofollow" class="external text" href="http://www.pool.ntp.org/">NTP Pool Project</a> at pool.ntp.org.  On boot, if the robot can reach these servers -- i.e. if the robot can connect to the internet -- the <code>ntp-client</code> corrects the robot's time, setting it to the reference time from the servers in one big jump.  After this the robot's <code>ntpd</code> timeserver will continue to synchronize against these four servers.
</p>
<h4><span class="mw-headline" id="Setting_the_Time_on_Boot">Setting the Time on Boot</span></h4>
<p>In order to set large offsets, the boot-time <code>ntp-client</code> need to be able to connect to the configured NTP servers.  If using the default settings, this just means the robot can reach the internet.  If your robot cannot connect to the internet, or you wish to use different servers during boot time, you can provide those servers using the <code>ntp-servers</code> option in your DHCP servers configuration.
</p><p>Once the robot has accurate time, it will save that time to the hardware clock on shutdown.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="DHCP">DHCP</span></h3>
<p>Using DHCP to provide the <code>ntp-servers</code> option is the standard way to provide NTP configuration information on a network.  Your local network may already be configured to provide this information.
</p><p>From <a rel="nofollow" class="external text" href="http://www.ietf.org/rfc/rfc2132.txt">DHCP Options and BOOTP Vendor Extensions</a>:
</p>
<blockquote>
<p>   8.3. Network Time Protocol Servers Option<br />
<br />
   This option specifies a list of IP addresses indicating NTP [18]<br />
   servers available to the client.  Servers SHOULD be listed in order<br />
   of preference.<br />
</p>
</blockquote>
<p>-- <a rel="nofollow" class="external free" href="http://www.ietf.org/rfc/rfc2132.txt">http://www.ietf.org/rfc/rfc2132.txt</a>
</p><p><br />
</p>
<h4><span class="mw-headline" id="Running_Locally_with_DHCP">Running Locally with DHCP</span></h4>
<p>If you need to correct the time locally (without being on a network), you can setup your own DHCP server on a local machine with a tool such as <code>isc-dhcp-server</code>.  Make sure to run an NTP server on your own machine and provide the address of your machine as the address in the <code>ntp-servers</code> option.  
</p><p>If your dev machine is not connected to other authentic time servers, you will need to <code>fudge</code> your own local time as a valid source of authentication.  By default, NTP does not sync against stratum 16 servers (which is what a disconnected server is). "Stratum" indicates the number of hops you are away from a 'true' time source (stratum 1), such as a GPS based device.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="o">=</span> Add backup fake <span class="nb">local</span> <span class="nv">server</span> <span class="o">=</span>
server <span class="m">127</span>.127.1.1             <span class="c1"># local clock</span>
fudge  <span class="m">127</span>.127.1.1 stratum <span class="m">12</span>  <span class="c1"># increase stratum</span>
</pre></div>
<h3><span class="mw-headline" id="ntpdc_Tool">ntpdc Tool</span></h3>
<p>The <code>ntpdc</code> tool is a program that can be run on the dev machine to query and configure the robot's NTP timeserver.  Configuration changes made at run-time using this tool are only currently saved for that boot.
</p>
<h4><span class="mw-headline" id="Configuring_the_NTP_Server_at_Run-Time">Configuring the NTP Server at Run-Time</span></h4>
<p>Use the <code>ntpdc</code> tool to configure the NTP server at run-time. The easiest method is to use the interactive mode.
</p>
<ol><li>Get the NTP Authentication Key information from the Rethink FTP - RSDK Resources folder.  Your POC (Point-of-Contact) should have access to this service.</li>
<li>In a terminal on your computer, drop into interactive mode:
<dl><dd><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    $ ntpdc -i &lt;robot_address&gt;
</pre></div></dd></dl></li>
<li>Authenticate your ntpdc session.  Using the authentication file above:
<dl><dd><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    <span class="o">=</span> Use the keyid number found at the start of the <span class="nv">line</span> <span class="o">=</span>
    ntpdc&gt; keyid <span class="c1">#&lt;number&gt;</span>
    <span class="o">=</span> Use the MD5 password found in the middle of the <span class="nv">line</span> <span class="o">=</span>
    ntpdc&gt; passwd
    MD5 Password: <span class="c1">#&lt;Copy-&amp;-Paste middle value of key in keys file here&gt;</span>
</pre></div></dd>
<dd>Now add a reference to your prefered time server.</dd></dl></li></ol>
<ol><li>Add a server using the <code>addserver</code> command; use the <code>prefer</code> option to prioritize it:
<dl><dd><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    ntpdc&gt; addserver ntp0.rethink.cxm prefer
</pre></div></dd></dl></li></ol>
<h5><span class="mw-headline" id="List_Status_with_ntpdc">List Status with ntpdc</span></h5>
<p>You can also use the <code>ntpdc</code> tool to list the current status of the robot's NTP synchronization.
</p>
<ol><li>From inside an interactive session, use the <code>peers</code> command:
<dl><dd><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    ntpdc&gt; peers
         remote           <span class="nb">local</span>      st poll reach  delay   offset    <span class="nv">disp</span>
    <span class="o">=======================================================================</span>
  *kona.skafari.co <span class="m">192</span>.168.52.242   <span class="m">2</span> <span class="m">1024</span>  <span class="m">373</span> <span class="m">0</span>.00854  <span class="m">0</span>.000148 <span class="m">0</span>.15186
    <span class="o">=</span>server2.shellva <span class="m">192</span>.168.52.242   <span class="m">2</span> <span class="m">1024</span>  <span class="m">372</span> <span class="m">0</span>.01021  <span class="m">0</span>.001264 <span class="m">0</span>.15143
    <span class="o">=</span>sisdb01.muskego <span class="m">192</span>.168.52.242   <span class="m">3</span> <span class="m">1024</span>  <span class="m">377</span> <span class="m">0</span>.03574 -0.003096 <span class="m">0</span>.13756
    <span class="o">=</span><span class="m">173</span>.44.32.10    <span class="m">192</span>.168.52.242   <span class="m">2</span> <span class="m">1024</span>   <span class="m">77</span> <span class="m">0</span>.05266 -0.003718 <span class="m">0</span>.27809
</pre></div></dd>
<dd>This is the same as using the <code>ntpq -p &lt;robot&gt;</code> command.</dd></dl></li></ol>
<h5><span class="mw-headline" id="Unconfigure_Servers">Unconfigure Servers</span></h5>
<p>If you want to remove the default servers from the current configuration, you can remove the peers by reference.
</p>
<ol><li>Drop into interactive mode as shown above.</li>
<li>Authenticate as shown above.</li>
<li>List peers (for finding their reference names):
<dl><dd><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    ntpdc&gt; listpeers
    client    kona.skafari.com
    client    blah.servers.net
    client    server2.shellvatore.us
    client    <span class="m">173</span>.44.32.10
</pre></div></dd></dl></li>
<li>Unconfigure each peer/server by address (right side of above):
<dl><dd><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    ntpdc&gt; unconfig &lt;peer_address&gt;
</pre></div></dd></dl></li></ol>
<h2><span class="mw-headline" id="Resources">Resources</span></h2>
<ul><li>ntpq - standard NTP query program:</li></ul>
<pre> <a rel="nofollow" class="external free" href="http://www.eecis.udel.edu/~mills/ntp/html/ntpq.html">http://www.eecis.udel.edu/~mills/ntp/html/ntpq.html</a>
</pre>
<ul><li>ntpdc - special NTP query program (for configuration commands):</li></ul>
<pre> <a rel="nofollow" class="external free" href="http://www.eecis.udel.edu/~mills/ntp/html/ntpdc.html">http://www.eecis.udel.edu/~mills/ntp/html/ntpdc.html</a>
</pre>
<ul><li>ntpd - Network Time Protocol (NTP) daemon:</li></ul>
<pre> <a rel="nofollow" class="external free" href="http://www.eecis.udel.edu/~mills/ntp/html/ntpd.html">http://www.eecis.udel.edu/~mills/ntp/html/ntpd.html</a>
</pre>
<ul><li>Command Index - (all the commands available in the ntp.conf configuration file and the ntpdc(/future ntpq versions) tools:</li></ul>
<pre> <a rel="nofollow" class="external free" href="http://www.eecis.udel.edu/~mills/ntp/html/comdex.html">http://www.eecis.udel.edu/~mills/ntp/html/comdex.html</a>
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>

<!-- 
NewPP limit report
Cached time: 20220930151009
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.033 seconds
Real time usage: 1.042 seconds
Preprocessor visited node count: 182/1000000
Preprocessor generated node count: 314/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 5471/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key wikisdk:pcache:idhash:332-0!canonical and timestamp 20220930151008 and revision id 3363
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://sdk.rethinkrobotics.com/baxter-sdk/wiki/a/index.php?title=Time_and_NTP&amp;oldid=3363">http://sdk.rethinkrobotics.com/baxter-sdk/wiki/a/index.php?title=Time_and_NTP&amp;oldid=3363</a>"</div>
  <div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>  <!-- end content -->
  
    <div class="visualClear"></div>
</div>
</div> <!-- /mainContent -->
<!-- end fragment mainContent --></div> <!-- /mBody --><div class="visualClear"></div><!-- start fragment footer -->    <div id="footer" role="contentinfo">
        <div id="f-poweredbyico">
                <a href="//www.mediawiki.org/"><img src="/baxter-sdk/wiki/a/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/baxter-sdk/wiki/a/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /baxter-sdk/wiki/a/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
            </div>
        <ul id="f-list">
                <li id="copywrite_notice">&copy; 2015 Rethink Robotics. All rights reserved.</li>
                <li id="special_pages"><a href="/baxter-sdk/wiki/Special:SpecialPages" title="Special:SpecialPages">SpecialPages</a></li>
                <li id="privacy"><a href="/baxter-sdk/wiki/Sdk-wiki:Privacy_policy" title="Sdk-wiki:Privacy policy">Privacy policy</a></li>
                <li id="about"><a href="/baxter-sdk/wiki/Sdk-wiki:About" title="Sdk-wiki:About">About sdk-wiki</a></li>
                <li id="disclaimer"><a href="/baxter-sdk/wiki/Sdk-wiki:General_disclaimer" title="Sdk-wiki:General disclaimer">Disclaimers</a></li>
            </ul>
    </div><!-- end fragment footer --></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.033","walltime":"1.042","ppvisitednodes":{"value":182,"limit":1000000},"ppgeneratednodes":{"value":314,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":5471,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20220930151009","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":1088});});</script></body></html>