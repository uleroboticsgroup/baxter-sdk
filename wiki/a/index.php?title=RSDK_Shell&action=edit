<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>View source for RSDK Shell - sdk-wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"RSDK_Shell","wgTitle":"RSDK Shell","wgCurRevisionId":4573,"wgRevisionId":0,"wgArticleId":374,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"RSDK_Shell","wgRelevantArticleId":374,"wgRequestId":"15e6b5aae81d4bde2a9e53a0","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["autoconfirmed"],"wgRestrictionMove":["autoconfirmed"]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready"});mw.loader.implement("user.tokens@0ppuq4y",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.cavendishmw-rethinkrobotics"]);});</script>
<link rel="stylesheet" href="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<script async="" src="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<meta name="generator" content="MediaWiki 1.31.0"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/baxter-sdk/wiki/a/opensearch_desc.php" title="sdk-wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://sdk.rethinkrobotics.com/baxter-sdk/wiki/a/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="sdk-wiki Atom feed" href="/baxter-sdk/wiki/a/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-RSDK_Shell rootpage-RSDK_Shell skin-cavendishmw-rethinkrobotics action-edit"><div id="container"><!-- start fragment header -->
    <!-- <div id="mozilla-org"><a href="#">Mozilla Skin</a></div> -->
    <div id="header" class="noprint">
        <a name="top" id="contentTop"></a>

        <!-- Logo + site name -->
        <h1>
            <a href="/baxter-sdk/wiki/Main_Page" style="text-indent: 2em; width: 194px; height: 67px; background: transparent url(/baxter-sdk/wiki/a/skins/cavendishmw-rethinkrobotics/styles/images/header_logo.png) no-repeat scroll 5px -5px;" title="Visit the main page">&nbsp;</a>        </h1>

	<div id="rr_ActionWrap">
	<!-- Account action links -->
	<div id="accountActions"><a href="/baxter-sdk/wiki/a/index.php?title=Special:UserLogin&returnto=RSDK+Shell&returntoquery=action%3Dedit">Log in</a></div>
        <!-- Search box -->
            <form action="/baxter-sdk/wiki/a/index.php" id="searchform">
        <label for="searchInput">Search</label>
        <input type='hidden' name="title" value="Special:Search"/>
        <input type="search" name="search" placeholder="Search sdk-wiki" title="Search sdk-wiki [f]" accesskey="f" id="searchInput"/>
        &#160;
        <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>    </form>
	</div>
    </div> <!-- End header div -->
<!-- end fragment header --><div id="mBody"><!-- start fragment mainContent -->
<!-- start fragment firstHeader -->
<div id="firstHeadingDiv" class="firstHeading">
    <h1 lang="en"><span dir="auto">View source for RSDK Shell</span></h1>


        <!-- Content action buttons -->
        <ul><li><a href="#">More</a><ul><li id="ca-viewsource" class="selected"><a href="/baxter-sdk/wiki/a/index.php?title=RSDK_Shell&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history"><a href="/baxter-sdk/wiki/a/index.php?title=RSDK_Shell&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li></ul></li><li id="ca-nstab-main" class="selected"><a href="/baxter-sdk/wiki/RSDK_Shell" title="View the content page [c]" accesskey="c">Page</a></li></ul>
</div><!-- end fragment firstHeader --><!-- start fragment sidebar -->        <div id="side" class="noprint" > <!-- cavendishmw: s/column-one/side/ -->
            <ul id="nav">
                      <li><span>Navigation</span>
            <ul>
                <li id="n-Getting-Started"><a href="/baxter-sdk/wiki/Getting_Started">Getting Started</a></li>
                <li id="n-Learning"><a href="/baxter-sdk/wiki/Learning">Learning</a></li>
                <li id="n-Community"><a href="/baxter-sdk/wiki/Community">Community</a></li>
                <li id="n-Support"><a href="/baxter-sdk/wiki/Support">Support</a></li>
            </ul>
        </li>
      <li><span>Links</span>
            <ul class="collapsible-collapsed">
                <li id="n-Forum"><a href="https://groups.google.com/a/rethinkrobotics.com/forum/#!forum/brr-users" rel="nofollow">Forum</a></li>
                <li id="n-Source"><a href="https://github.com/RethinkRobotics" rel="nofollow">Source</a></li>
                <li id="n-Source-API"><a href="http://api.rethinkrobotics.com/" rel="nofollow">Source API</a></li>
            </ul>
        </li>
      <li><span>Tools</span>
            <ul class="collapsible-collapsed">
                <li id="n-All-Pages"><a href="/baxter-sdk/wiki/Special:AllPages">All Pages</a></li>
                <li id="n-Upload-File"><a href="/baxter-sdk/wiki/Special:Upload">Upload File</a></li>
                <li id="n-What-Links-Here.3F"><a href="/baxter-sdk/wiki/Special:WhatLinksHere">What Links Here?</a></li>
            </ul>
        </li>
            </ul> <!-- /nav -->
        </div> <!-- /side -->
<!-- end fragment sidebar -->
<div id="mainContent"> <!-- cavendishmw: s/column-content/mainContent/ -->
    
  <div id="bodyContent" class="mw-body">
    <div id="siteSub">From sdk-wiki</div>
    <div id="contentSub">‚Üê <a href="/baxter-sdk/wiki/RSDK_Shell" title="RSDK Shell">RSDK Shell</a></div>
    <div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
    
  <!-- start content -->
  <div id="mw-content-text"><p>You do not have permission to edit this page, for the following reasons:
</p>
<ul class="permissions-errors">
<li>The action you have requested is limited to users in one of the groups: <a href="/baxter-sdk/wiki/a/index.php?title=Sdk-wiki:Bureaucrats&amp;action=edit&amp;redlink=1" class="new" title="Sdk-wiki:Bureaucrats (page does not exist)">Bureaucrats</a>, administrator.</li>
<li>This page has been protected to prevent editing or other actions.</li>
</ul>
<hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace" lang="en" dir="ltr" name="wpTextbox1">To communicate with and command Baxter, we must establish the connection between your development PC and the robot. Assuming proper [[Networking | network setup]], the RSDK shell refers to the a configuration of your [http://wiki.ros.org/ROS/EnvironmentVariables ROS environment] which points your PC to the [http://wiki.ros.org/Master ROS Master], while registering your IP or Hostname allowing other processes to find you.


The SDK provides a convenient script, &lt;code> baxter.sh &lt;/code>, which helps foster the quickest and easiest ROS environment setup to get communicating with Baxter. This script should have been installed/configured during [[Workstation_Setup | Getting Started - Workstation Setup Tutorial]], and the [[Hello_Baxter | Getting Started - Hello Baxter! Tutorial]].

== Quick Environment Setup Via Baxter.sh ==
&lt;syntaxhighlight lang="bash" enclose="div">
$ cd ~/ros_ws
$ ./baxter.sh
&lt;/syntaxhighlight>

== Detailed Description/Setup ==

&lt;span style="font-size:115%;">'''The current recommended environment setup: Baxter.sh ROS Environment Setup'''&lt;/span>

&lt;tabs>
&lt;tab name="Baxter.sh ROS Environment Setup">

The baxter.sh script is a convenient script allowing users to get their ROS environment setup quickly. It should allow for intuitive modification of the core components to get communicating with Baxter setup quickly. It creates a heredoc which verifies all environment variables expected are provided, with a handy sim argument for local configurations (useful for simulation), and local argument (useful when SSH'd into Baxter with no need to communicate to external, off-robot processes). This subshell created has the custom prompt modifications (with color) for quick visual checks as well.

==== Checkout Convenient baxter.sh script ====
&lt;syntaxhighlight lang="bash" enclose="div">
$ cd ~/ros_ws
$ wget https://raw.github.com/RethinkRobotics/baxter/master/baxter.sh
$ chmod +x baxter.sh
&lt;/syntaxhighlight>

==== Customize the baxter.sh script ====

Please edit the baxter.sh shell script making the necessary modifications to describe your development PC.

Using your favorite editor ([https://wiki.gnome.org/Apps/Gedit gedit] used for example)
&lt;syntaxhighlight lang="bash" enclose="div">
$ cd ~/ros_ws
$ gedit baxter.sh
&lt;/syntaxhighlight>

==== Edit the 'baxter_hostname' field ====
Please edit the 'baxter_hostname' field:
&lt;syntaxhighlight lang="bash" enclose="div">
# Specify Baxter's hostname
**baxter_hostname="baxter_hostname.local"**
&lt;/syntaxhighlight>
Modifying where 'baxter_hostname' is the [[Robot_Hostname hostname of your robot]

==== Edit 'your_ip' OR 'your_hostname' field ====
Please edit the 'your_ip' field (only if not using 'your_hostname'):
&lt;syntaxhighlight lang="bash" enclose="div">
**your_ip="192.168.XXX.XXX"**
&lt;/syntaxhighlight>
Modifying where 'your_ip' is the IP address of your PC.

Useful command for identifying your IP address:
&lt;syntaxhighlight lang="bash" enclose="div">
$ ifconfig
# Result will be contained in the 'inet addr' field (Ubuntu) or 'inet' field (Gentoo Robot PC).
&lt;/syntaxhighlight>

'''Important:''' Only set either ROS_IP '''*OR*''' ROS_HOSTNAME.

Setting of both ROS_IP and ROS_HOSTNAME will result in ROS_HOSTNAME taking priority, resulting in confusing environment setups. Comment out the unused method using the '#' as leading character.

Alternatively, you may choose to use the hostname of your development PC. 

Please edit the 'your_hostname' field (only if not using 'your_ip'):
&lt;syntaxhighlight lang="bash" enclose="div">
***your_hostname="my_computer.local***
&lt;/syntaxhighlight>
Modifying where 'your_hostname' is the hostname of your PC.

'''Important:''' This hostname must be resolvable to Baxter. To test if your hostname is resolvable to Baxter, please visit the development PC [[Networking]] page.

==== Edit 'ros_version' field ====
Please edit the 'ros_version' field:
&lt;syntaxhighlight lang="bash" enclose="div">
***ros_version="indigo"***
&lt;/syntaxhighlight>
Modifying where 'ros_version' is the your chosen ROS release.

==== Save and Close baxter.sh script ====
Please save and close the baxter.sh script.

==== Initialize your SDK environment ====
From this point forward, your ROS environment setup should be as simple as running the baxter.sh script from the root of your Catkin workspace:
&lt;syntaxhighlight lang="bash" enclose="div">
$ cd ~/ros_ws
$ ./baxter.sh
&lt;/syntaxhighlight>

You will see that your current shell prompt will be prefixed with:
&lt;syntaxhighlight lang="bash" enclose="div">
    [baxter - http://&lt;robot_hostname>:11311]username@machine$
&lt;/syntaxhighlight>
This allows you to quickly view if your shell is configured for Baxter communication or not, and to which robot you are currently addressing (&lt;code>&lt;robot_hostname>&lt;/code>)

&lt;/tab>
&lt;tab name="Standard bashrc ROS Environment Setup">
It will be necessary to enable communication between the development PC and the robot and vice versa. This section largely follows [http://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment ros.org's Installation and Configuration of ROS Environment page].

To do so, we will edit our [http://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html ~/.bashrc] script which is evoked with new shell instances.

==== Customize your ~/.bashrc ====

Please edit the ~/.bashrc to set the ROS environment variables necessary for communication with Baxter.

Using your favorite editor ([https://wiki.gnome.org/Apps/Gedit gedit] used for example)
&lt;syntaxhighlight lang="bash" enclose="div">
$ gedit ~/.bashrc
&lt;/syntaxhighlight>

At the bottom of your ~/.bashrc script add the following:

==== Source ROS setup.bash ====
A ROS environment script is packages will all standard ROS installation. This script will set the standard basic ROS environment variables. 

Please add the following to the bottom of your ~/.bashrc script.

If using ROS Indigo:
&lt;syntaxhighlight lang="bash" enclose="div">
source /opt/ros/indigo/setup.bash
&lt;/syntaxhighlight>

If using ROS Hydro:
&lt;syntaxhighlight lang="bash" enclose="div">
source /opt/ros/hydro/setup.bash
&lt;/syntaxhighlight>

If using ROS Groovy:
&lt;syntaxhighlight lang="bash" enclose="div">
source /opt/ros/groovy/setup.bash
&lt;/syntaxhighlight>

==== Set ROS_MASTER_URI ====

[http://wiki.ros.org/ROS/EnvironmentVariables#ROS_MASTER_URI ROS_MASTER_URI] - Allows the development PC to locate the master. This will typically be the hostname of the robot.

Please add the following to the bottom of your ~/.bashrc script.
&lt;syntaxhighlight lang="bash" enclose="div">
export ROS_MASTER_URI=http://baxter_hostname:11311
&lt;/syntaxhighlight>
Where 'baxter_hostname' is the [[Robot_Hostname hostname of your robot]

==== Set ROS_IP *OR* ROS_HOSTNAME ====
It will be necessary for other processes to be able to communicate to and from your development PC. For this reason, setting [http://wiki.ros.org/ROS/EnvironmentVariables#ROS_NAMESPACE ROS_IP or ROS_HOSTNAME] advertises your node for networked communication.

Please add the ROS_IP (only if not using ROS_HOSTNAME):
&lt;syntaxhighlight lang="bash" enclose="div">
export ROS_IP='192.168.XXX.XXX'
&lt;/syntaxhighlight>
Modifying where 'your_ip' is the IP address of your PC.

Useful command for identifying your IP address:
&lt;syntaxhighlight lang="bash" enclose="div">
$ ifconfig
# Result will be contained in the 'inet addr' field (Ubuntu) or 'inet' field (Gentoo Robot PC).
&lt;/syntaxhighlight>

'''Important:''' Only set either ROS_IP '''*OR*''' ROS_HOSTNAME.

Alternatively, you may choose to use the hostname of your development PC. 

Please edit the ROS_HOSTNAME field (only if not using ROS_IP):
&lt;syntaxhighlight lang="bash" enclose="div">
export ROS_HOSTNAME='your_hostname'
&lt;/syntaxhighlight>
Modifying where 'your_hostname' is the hostname of your PC.

'''Important:''' This hostname must be resolvable to Baxter. To test if your hostname is resolvable to Baxter, please visit the development PC [[Hostname Validation]] page.

==== Save and Close ~/.bashrc ====
Please save and close your ~/.bashrc

==== Initialize your SDK environment ====
From this point forward, your ROS environment setup should be preconfigured upon startup of all new terminals (shells). '''Important:''' You will still need to source your development workspace (~/ros_ws/devel/setup.bash) setup script when compiling code from source in your [http://wiki.ros.org/catkin/workspaces Catkin workspace] - following our setup this will be ~/ros_ws.

Please close your current terminal, and reopen a new terminal instance.

&lt;/tab>
&lt;/tabs>

== Verify RSDK Shell ==

==== Test ability to ping robot. ====
Ping what you have previously set as your &lt;code>robot_hostname&lt;/code>.
&lt;syntaxhighlight lang="bash" enclose="div">
$ ping &lt;robot_hostname>
# ex.
$ ping 011304P0026.local
&lt;/syntaxhighlight>

If unable to ping the robot visit [[Connecting and Testing the Development Workstation|this page]].

=== Test ability to command the robot ===
1. Enable the robot
&lt;syntaxhighlight lang="bash" enclose="div">
$ rosrun baxter_tools enable_robot.py -e
&lt;/syntaxhighlight>
The robot is now active. You may now grasp Baxter's arms freely by grasping the cuffs at the hands.

2. Disable the robot
&lt;syntaxhighlight lang="bash" enclose="div">
$ rosrun baxter_tools enable_robot.py -d
&lt;/syntaxhighlight>
You should visibly see Baxter's arms gently fall and will no longer have the ability to move the arms freely.

If unsuccessful in enabling the robot, please follow the instructions below. This is typically due to a ROS_HOSTNAME being set which is not resolvable to Baxter. Please unset your ROS_HOSTNAME, instead using your ROS_IP. Make sure this is reflected permanently in your &lt;code> baxter.sh &lt;/code> script.

==== Timeout observed when trying to enable the robot. ====
Assuming that you are able to &lt;code>$rostopic echo /rosout&lt;/code> during [[Connecting and Testing the Development Workstation#steps-for-connecting-to-baxter|these prerequisite instructions]]. This error is a sign of the inability to make '''commands''' to the robot. This is due to your ROS_HOSTNAME/ROS_IP being set incorrectly.

View the ROS_ENVIRONMENT set for your current shell.
&lt;syntaxhighlight lang="bash" enclose="div">
$ env | grep ROS
&lt;/syntaxhighlight>
Verify that '''***EITHER***''' the ROS_HOSTNAME or ROS_IP is set for your development workstation.

If unsuccessful and the ROS_HOSTNAME is set, please unset this variable and use ROS_IP.
&lt;syntaxhighlight lang="bash" enclose="div">
$ unset ROS_HOSTNAME
$ export ROS_IP=&lt;your_development_workstation_ip>
&lt;/syntaxhighlight>

Note: You can always view your current development workstation IP address using
&lt;syntaxhighlight lang="bash" enclose="div">
$ ifconfig
&lt;/syntaxhighlight>

If unsuccessful and the ROS_IP is set, verify that this is describes '''your''' ip address and not the '''robot''' ip address.
&lt;syntaxhighlight lang="bash" enclose="div">
# Verify ROS_HOSTNAME is unset
$ unset ROS_HOSTNAME
# Take note of your IP address
$ ifconfig
# Export this as your ROS_IP
$ export ROS_IP=&lt;your_development_workstation_ip>
&lt;/syntaxhighlight>
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="/baxter-sdk/wiki/RSDK_Shell" title="RSDK Shell">RSDK Shell</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://sdk.rethinkrobotics.com/baxter-sdk/wiki/RSDK_Shell">http://sdk.rethinkrobotics.com/baxter-sdk/wiki/RSDK_Shell</a>"</div>
  <div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>  <!-- end content -->
  
    <div class="visualClear"></div>
</div>
</div> <!-- /mainContent -->
<!-- end fragment mainContent --></div> <!-- /mBody --><div class="visualClear"></div><!-- start fragment footer -->    <div id="footer" role="contentinfo">
        <div id="f-poweredbyico">
                <a href="//www.mediawiki.org/"><img src="/baxter-sdk/wiki/a/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/baxter-sdk/wiki/a/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /baxter-sdk/wiki/a/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
            </div>
        <ul id="f-list">
                <li id="copywrite_notice">&copy; 2015 Rethink Robotics. All rights reserved.</li>
                <li id="special_pages"><a href="/baxter-sdk/wiki/Special:SpecialPages" title="Special:SpecialPages">SpecialPages</a></li>
                <li id="privacy"><a href="/baxter-sdk/wiki/Sdk-wiki:Privacy_policy" title="Sdk-wiki:Privacy policy">Privacy policy</a></li>
                <li id="about"><a href="/baxter-sdk/wiki/Sdk-wiki:About" title="Sdk-wiki:About">About sdk-wiki</a></li>
                <li id="disclaimer"><a href="/baxter-sdk/wiki/Sdk-wiki:General_disclaimer" title="Sdk-wiki:General disclaimer">Disclaimers</a></li>
            </ul>
    </div><!-- end fragment footer --></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":51});});</script></body></html>