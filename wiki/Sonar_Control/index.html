<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Sonar Control - sdk-wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Sonar_Control","wgTitle":"Sonar Control","wgCurRevisionId":3357,"wgRevisionId":3357,"wgArticleId":327,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Sonar_Control","wgRelevantArticleId":327,"wgRequestId":"7c98f704d7d582b40e749a92","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["autoconfirmed"],"wgRestrictionMove":["autoconfirmed"]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready"});mw.loader.implement("user.tokens@0ppuq4y",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.cavendishmw-rethinkrobotics"]);});</script>
<link rel="stylesheet" href="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<script async="" src="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=cavendishmw-rethinkrobotics"/>
<meta name="generator" content="MediaWiki 1.31.0"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/baxter-sdk/wiki/a/opensearch_desc.php" title="sdk-wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://sdk.rethinkrobotics.com/baxter-sdk/wiki/a/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="sdk-wiki Atom feed" href="/baxter-sdk/wiki/a/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/baxter-sdk/wiki/a/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=cavendishmw-rethinkrobotics&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Sonar_Control rootpage-Sonar_Control skin-cavendishmw-rethinkrobotics action-view"><div id="container"><!-- start fragment header -->
    <!-- <div id="mozilla-org"><a href="#">Mozilla Skin</a></div> -->
    <div id="header" class="noprint">
        <a name="top" id="contentTop"></a>

        <!-- Logo + site name -->
        <h1>
            <a href="/baxter-sdk/wiki/Main_Page" style="text-indent: 2em; width: 194px; height: 67px; background: transparent url(/baxter-sdk/wiki/a/skins/cavendishmw-rethinkrobotics/styles/images/header_logo.png) no-repeat scroll 5px -5px;" title="Visit the main page">&nbsp;</a>        </h1>

	<div id="rr_ActionWrap">
	<!-- Account action links -->
	<div id="accountActions"><a href="/baxter-sdk/wiki/a/index.php?title=Special:UserLogin&returnto=Sonar+Control">Log in</a></div>
        <!-- Search box -->
            <form action="/baxter-sdk/wiki/a/index.php" id="searchform">
        <label for="searchInput">Search</label>
        <input type='hidden' name="title" value="Special:Search"/>
        <input type="search" name="search" placeholder="Search sdk-wiki" title="Search sdk-wiki [f]" accesskey="f" id="searchInput"/>
        &#160;
        <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>    </form>
	</div>
    </div> <!-- End header div -->
<!-- end fragment header --><div id="mBody"><!-- start fragment mainContent -->
<!-- start fragment firstHeader -->
<div id="firstHeadingDiv" class="firstHeading">
    <h1 lang="en"><span dir="auto">Sonar Control</span></h1>


        <!-- Content action buttons -->
        <ul><li><a href="#">More</a><ul><li id="ca-viewsource"><a href="/baxter-sdk/wiki/a/index.php?title=Sonar_Control&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history"><a href="/baxter-sdk/wiki/a/index.php?title=Sonar_Control&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li></ul></li><li id="ca-nstab-main" class="selected"><a href="/baxter-sdk/wiki/Sonar_Control" title="View the content page [c]" accesskey="c">Page</a></li></ul>
</div><!-- end fragment firstHeader --><!-- start fragment sidebar -->        <div id="side" class="noprint" > <!-- cavendishmw: s/column-one/side/ -->
            <ul id="nav">
                      <li><span>Navigation</span>
            <ul>
                <li id="n-Getting-Started"><a href="/baxter-sdk/wiki/Getting_Started">Getting Started</a></li>
                <li id="n-Learning"><a href="/baxter-sdk/wiki/Learning">Learning</a></li>
                <li id="n-Community"><a href="/baxter-sdk/wiki/Community">Community</a></li>
                <li id="n-Support"><a href="/baxter-sdk/wiki/Support">Support</a></li>
            </ul>
        </li>
      <li><span>Links</span>
            <ul class="collapsible-collapsed">
                <li id="n-Forum"><a href="https://groups.google.com/a/rethinkrobotics.com/forum/#!forum/brr-users" rel="nofollow">Forum</a></li>
                <li id="n-Source"><a href="https://github.com/RethinkRobotics" rel="nofollow">Source</a></li>
                <li id="n-Source-API"><a href="http://api.rethinkrobotics.com/" rel="nofollow">Source API</a></li>
            </ul>
        </li>
      <li><span>Tools</span>
            <ul class="collapsible-collapsed">
                <li id="n-All-Pages"><a href="/baxter-sdk/wiki/Special:AllPages">All Pages</a></li>
                <li id="n-Upload-File"><a href="/baxter-sdk/wiki/Special:Upload">Upload File</a></li>
                <li id="n-What-Links-Here.3F"><a href="/baxter-sdk/wiki/Special:WhatLinksHere">What Links Here?</a></li>
            </ul>
        </li>
            </ul> <!-- /nav -->
        </div> <!-- /side -->
<!-- end fragment sidebar -->
<div id="mainContent"> <!-- cavendishmw: s/column-content/mainContent/ -->
    
  <div id="bodyContent" class="mw-body">
    <div id="siteSub">From sdk-wiki</div>
    <div id="contentSub"></div>
    <div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
    
  <!-- start content -->
  <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Head_Sonar_Control"><span class="tocnumber">1</span> <span class="toctext">Head Sonar Control</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Basic_Usage"><span class="tocnumber">1.1</span> <span class="toctext">Basic Usage</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Sonar_Behaviors"><span class="tocnumber">1.2</span> <span class="toctext">Sonar Behaviors</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Functions"><span class="tocnumber">1.3</span> <span class="toctext">Functions</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Troubleshooting"><span class="tocnumber">1.4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Nothing_happens_when_you_publish_to_disable_the_sonars."><span class="tocnumber">1.4.1</span> <span class="toctext">Nothing happens when you publish to disable the sonars.</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Head_Sonar_Control">Head Sonar Control</span></h1>
<p>Around the head is a ring of 12 sonar sensors for detecting movements within Baxter's proximity.  Next to each sonar sensor are yellow LEDs, which by default indicate when the corresponding sensors detect an object within a certain threshold.  You can control the sonar sensors and lights to override the default behavior and either disable or enable each of the 12 channels.
</p>
<ul><li><a href="/baxter-sdk/wiki/Sonar_Control#basic-usage" title="Sonar Control">Basic Usage</a></li>
<li><a href="/baxter-sdk/wiki/Sonar_Control#sonar-behaviors" title="Sonar Control">Sonar Behaviors</a></li>
<li><a href="/baxter-sdk/wiki/Sonar_Control#functions" title="Sonar Control">Functions</a></li>
<li><a href="/baxter-sdk/wiki/Sonar_Control#troubleshooting" title="Sonar Control">Troubleshooting</a></li></ul>
<h2><span class="mw-headline" id="Basic_Usage">Basic Usage</span></h2>
<p>To <b>Turn Off</b> the sonar sensors:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>    $ rostopic pub /robot/sonar/head_sonar/set_sonars_enabled std_msgs/UInt16 <span class="m">0</span>
</pre></div>
<h2><span class="mw-headline" id="Sonar_Behaviors">Sonar Behaviors</span></h2>
<p>The sonars and the sonar lights display a few different behaviors.  
</p>
<ul><li>During Boot-up Behvaior: The yellow lights will 'spin' in a ring around the head.</li>
<li>Default Run Behavior: The lights near each sensor will respond to objects detected by the sensor.</li>
<li>Disabled Sonars Behavior: The lights will not respond to motion, and will remain off.</li></ul>
<h2><span class="mw-headline" id="Functions">Functions</span></h2>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># Check state of enable flags, listen to confirm annoying clicking sound</span>
$ rostopic <span class="nb">echo</span> -n1 /robot/sonar/head_sonar/sonars_enabled 
data: <span class="m">4095</span>
---

<span class="c1"># Turn off enable flags for all sonar channels</span>
$ rostopic pub /robot/sonar/head_sonar/set_sonars_enabled std_msgs/UInt16 <span class="m">0</span>
<span class="c1"># Listen for peaceful silence; confirm enable flags state is 0</span>
$ rostopic <span class="nb">echo</span> -n1 /robot/sonar/head_sonar/sonars_enabled 
data: <span class="m">0</span>
---

<span class="c1"># Turn back on enable flags for all sonar channels</span>
$ rostopic pub /robot/sonar/head_sonar/set_sonars_enabled std_msgs/UInt16 <span class="m">4095</span>
<span class="c1"># Listen, wave hand to activate sonar, confirm enable state</span>
$ rostopic <span class="nb">echo</span> -n1 /robot/sonar/head_sonar/sonars_enabled 
data: <span class="m">4095</span>
---
</pre></div>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h4><span class="mw-headline" id="Nothing_happens_when_you_publish_to_disable_the_sonars.">Nothing happens when you publish to disable the sonars.</span></h4>
<p>Make sure your ROS_IP or ROS_HOSTNAME is exported and resolvable to the robot.  
</p><p>Make sure that your network connection is configured allowing you to make commands to the robot:
<a href="/baxter-sdk/wiki/Connecting_and_Testing_the_Development_Workstation" title="Connecting and Testing the Development Workstation">Connecting and Testing the Development Workstation</a>
</p><p>In particular that your ROS_HOSTNAME is resolvable to the robot, or alternatively setting your ROS_IP to your current ip address (make sure that your ROS_HOSTNAME is <b>not</b> set when using this approach):
</p><p><a rel="nofollow" class="external free" href="http://www.ros.org/baxter-sdk/wiki/ROS/NetworkSetup#Name_resolution">http://www.ros.org/baxter-sdk/wiki/ROS/NetworkSetup#Name_resolution</a>
</p>
<!-- 
NewPP limit report
Cached time: 20220930161154
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.011 seconds
Real time usage: 0.218 seconds
Preprocessor visited node count: 40/1000000
Preprocessor generated node count: 68/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 1341/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key wikisdk:pcache:idhash:327-0!canonical and timestamp 20220930161153 and revision id 3357
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://sdk.rethinkrobotics.com/baxter-sdk/wiki/a/index.php?title=Sonar_Control&amp;oldid=3357">http://sdk.rethinkrobotics.com/baxter-sdk/wiki/a/index.php?title=Sonar_Control&amp;oldid=3357</a>"</div>
  <div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>  <!-- end content -->
  
    <div class="visualClear"></div>
</div>
</div> <!-- /mainContent -->
<!-- end fragment mainContent --></div> <!-- /mBody --><div class="visualClear"></div><!-- start fragment footer -->    <div id="footer" role="contentinfo">
        <div id="f-poweredbyico">
                <a href="//www.mediawiki.org/"><img src="/baxter-sdk/wiki/a/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/baxter-sdk/wiki/a/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /baxter-sdk/wiki/a/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
            </div>
        <ul id="f-list">
                <li id="copywrite_notice">&copy; 2015 Rethink Robotics. All rights reserved.</li>
                <li id="special_pages"><a href="/baxter-sdk/wiki/Special:SpecialPages" title="Special:SpecialPages">SpecialPages</a></li>
                <li id="privacy"><a href="/baxter-sdk/wiki/Sdk-wiki:Privacy_policy" title="Sdk-wiki:Privacy policy">Privacy policy</a></li>
                <li id="about"><a href="/baxter-sdk/wiki/Sdk-wiki:About" title="Sdk-wiki:About">About sdk-wiki</a></li>
                <li id="disclaimer"><a href="/baxter-sdk/wiki/Sdk-wiki:General_disclaimer" title="Sdk-wiki:General disclaimer">Disclaimers</a></li>
            </ul>
    </div><!-- end fragment footer --></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.011","walltime":"0.218","ppvisitednodes":{"value":40,"limit":1000000},"ppgeneratednodes":{"value":68,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":1341,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20220930161154","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":269});});</script></body></html>